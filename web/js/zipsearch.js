"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(u){function s(t,e){for(var r=0,n=Object.entries(e);r<n.length;r++){var a=_slicedToArray(n[r],2),o=a[0],i=a[1],c=u(o);c.length&&c.val(i?t[i]:"")}}u.fn.zipSearch=function(t,e,r,a){function n(){l&&(clearTimeout(l),l=null),l=setTimeout(function(){l=null,o.prop("disabled",!String(i.val()).match(/^\d{7}$/))},1e3/60)}var o=this,i=u(t),c=u(r),l=null;return i.keypress(function(){n()}).change(function(){n()}),n(),this.each(function(){var t=u(this);t.click(function(){t.text("問合せ中..."),u.post("/api/postal-code",{code:i.val()}).done(function(t){switch(t.length){case 0:u(".modal-body",c).text("郵便番号の検索結果が空でした"),c.modal();break;case 1:s(t[0],a);break;default:var r=u(e),n=u(".list-group",r).empty();t.forEach(function(t){var e=u('<a href="#" class="list-group-item list-group-item-action">');e.text("".concat(t.address1," ").concat(t.address2," ").concat(t.address3)),n.append(e),e.click(function(){return s(t,a),r.modal("hide"),!1})}),r.modal()}}).fail(function(){u(".modal-body",c).text("検索エラーが発生しました"),c.modal()}).always(function(){t.text("住所入力")})})}),this}}(jQuery);
