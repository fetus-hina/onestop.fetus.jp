"use strict";(t=>{function e(e,o){for(const[s,a]of Object.entries(o)){const o=t(s);o.length&&o.val(a?e[a]:"")}}t.fn.zipSearch=function(o,s,a,c){const n=this,l=t(o),i=t(a);let r=null;const d=()=>{r&&(clearTimeout(r),r=null),r=setTimeout((()=>{r=null,n.prop("disabled",!String(l.val()).match(/^\d{7}$/))}),1e3/60)};return l.keypress((()=>{d()})).change((()=>{d()})),d(),this.each((function(){const o=t(this);o.click((()=>{o.text("\u554f\u5408\u305b\u4e2d..."),t.post("/api/postal-code",{code:l.val()}).done((o=>{switch(o.length){case 0:t(".modal-body",i).text("\u90f5\u4fbf\u756a\u53f7\u306e\u691c\u7d22\u7d50\u679c\u304c\u7a7a\u3067\u3057\u305f"),new bootstrap.Modal(i.get(0)).show();break;case 1:e(o[0],c);break;default:(()=>{const a=t(s),n=t(".list-group",a).empty();o.forEach((o=>{const s=t('<a href="#" class="list-group-item list-group-item-action">');s.text("".concat(o.address1," ").concat(o.address2," ").concat(o.address3)),n.append(s),s.click((()=>(e(o,c),a.modal("hide"),!1)))})),new bootstrap.Modal(a.get(0)).show()})()}})).fail((()=>{t(".modal-body",i).text("\u691c\u7d22\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"),new bootstrap.Modal(i.get(0)).show()})).always((()=>{o.text("\u4f4f\u6240\u5165\u529b")}))}))})),this}})(jQuery);